<!DOCTYPE html>
<head>
    <style>
    body { max-width: 57.5em;  padding: 1em; margin-left: auto; margin-right: auto; }
    #pairs, #threads { width: 28em; height: 15em; }
    #sheet { width: 56.4em; height: 35em; }
    .wide { width: 25em }
    input { width: 3em; }
    .jscolor { width: 1.1em; }
    #color { display: inline; width: 4em; }

    #pairs, #threads, #sheet { overflow: scroll; resize:both; border: solid 1px #AAA; }
    a img { overflow: hide; border: solid 1px #AAA; }

    a img { vertical-align: middle; margin-bottom: 1em; }
    #logo img, #footer img { border: none; }
    div, input, textarea, #browsers { vertical-align: top;}
    button, #buttons { vertical-align: bottom;}
    button a, button { text-decoration: none; color: #000 }
    fieldset { padding: 0.5em; margin-left: 0; margin-right:0.1em; }
    fieldset p { margin-bottom:0; padding-bottom: 0; }
    form { margin-bottom: 1em }
    #sheet { margin-top: 0.2em; }
    #pairs, #threads { padding: 0 }
    #buttons { border: none; padding: 0; }

    #logo img { float: right }
    #pattern, #stitchFiedSet { float: left; margin-right:0.4em; }
    #pairs { clear: both }
    #diagrams { clear: left; margin-top: 0.5em; }

    #pairs, #threads, #sheet, fieldset, .show { display: inline-block; }
    .hide { display: none }
    </style>
    <meta charset="UTF-8">
    <title lang="en">GroundForge : A web based toolbox to design bobbin lace grounds with matching diagrams.</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script src="js/show-graph.js"></script>
    <script src="js/matrix-graphs.js"></script>
    <script src="js/index.js"></script>
    <script src="js/jscolor.min.js" type="text/javascript"></script>
</head>
<body onload="init();load()">

<article>
    <a id="logo"
       href="https://d-bl.github.io/"
       title="More tools by DiBL"
    ><img src="images/logo-medium.png" alt="DiBL logo"/></a>
    <h1>GroundForge</h1>
    <p><em>A toolbox to design bobbin lace grounds or braids with matching diagrams.</em></p>

    <p>The <a href="https://github.com/d-bl/GroundForge/wiki"
        >user guide</a> provides more details and hints for the following steps.
    </p>
    <ul>
        <li>
            Select a thumbnail, or try the <a href="?showAdvanced">advanced</a> options to invent your own patterns.
        </li>
        <li>
            Choose stitches, those with an odd number of crossings cause threads to follow other paths than pairs.
        </li>
        <li>
            Decide where to apply a contrasting thread:
            select the square start of a thread to paint it and see its path.
        </li>
        <li>
            Nudging pins to slightly different positions can have a significant effect on the shapes in the pair diagram.
            The pattern sheet contains reshaped variants of the slightly irregular pair diagram,
            customize a patch to your own taste and needs with an <a
                href="https://en.wikipedia.org/wiki/Comparison_of_vector_graphics_editors#File_format_support"
                title="Sort the overview by the SVG column,&#013; still not all will be suite the purpose."
        >SVG editor</a>.
        </li>
    </ul>
    <p>
        We'd love to see <a href="https://github.com/d-bl/GroundForge/issues/50"
        >your creations</a>.
    </p>

    Thumbnails:
    <a href="?hideAdvanced&matrix=5632 5632&patch=5- -5&patch=5353 5353 5-5- -5-5&patch=5632 56-2 5-5- -535&patch=44 77 44 77;bricks&patch=44 44 77 77;bricks&rows=5&cols=7&left=1&up=1&stitches=A1=tc,B1=tctc,C1=tc,D1=tctc,A2=tc,B2=tc,C2=tc,D2=tc"><img src="thumbs/214.png" title="Torchon (with variations)"></a>

    <a href="?hideAdvanced&matrix=5632 34-7&tiles=bricks&patch=-5-5 5-5- -5-- B-C-;bricks&patch=256- ---5 C3B-;bricks&patch=5632 34-7;bricks&patch=4373 5-53;bricks&rows=5&cols=3&up=3&left=1&stitches=A1=tplc,B1=tcttpc,C1=tprc,D1=ttcttpc,A2=rtc,B2=tcttpc,C2=ltc,D2=tc"><img src="thumbs/135.png" title="small snow (Binche)"></a>

    <a href="?hideAdvanced&matrix=5831 -4-7&tiles=bricks&patch=-437 34-7;bricks&patch=4830 --77;bricks&up=3&left=1&rows=8&cols=7&stitches=A1=tc,C1=tc,A2=tc,B2=ptc,C2=tc,D2=tc"><img src="thumbs/130.png" title="rose (Torchon) / Flanders"></a>

    <a href="?hideAdvanced&matrix=5831 -4-7&patch=68 -4&patch=5831 -4-7&patch=B-C- ---5 C-B- -5--&patch=5831 -4-7 5--- -C-B;bricks&patch=5-O-E- -E-5-O 5-O-E-;bricks&left=4&up=1&rows=7&cols=7&stitches=A1=tctc,C1=tctc,D1=tctc,A2=tctc,B1=tctc,C2=tctc"><img src="thumbs/376.png" title="kat / paris"></a>

    <a href="?hideAdvanced&matrix=4815%0D4-77&tiles=bricks&patch=-5---5-5%0D5-O-E-5-;bricks&patch=4804%0D-777;bricks&patch=B-5-C-%0D-5-5--%0DB---C-;bricks&rows=12&cols=6&left=0&up=1&stitches=D2=tctpc%20A1=tc%20B1=tc%20C1=tc%20D1=tc%20A2=tc%20B2=tc"><img src="thumbs/127.png" title="meandering plaits"></a>

    <a href="?hideAdvanced&matrix=586- -4-5 5-21 -5-7&rows=12&cols=9&&left=1&up=1&stitches=A3=tctc,D4=lctc,B4=rctc,A1=ctc,A2=tctc,C1=tctc,D2=rctc,B2=lctc,C3=ctc,C4=tctc"><img src="thumbs/001.png" title="pinwheel"></a>

    <a href="thumbs.html">more...</a>
</article>
<form>
    <fieldset id="pattern" class="advanced hide">
        <legend>Pattern matrix</legend>
<textarea id="matrix" name="matrix" rows="4" cols="6" spellcheck="false"
>586-
-4-5
5-21
-5-7</textarea>
        <select name="tiles" id="tiles">
            <option value="bricks">Brick wall</option>
            <option value="checker" selected>Checker board</option>
        </select>
        <label for="tiles"> tiles</label>
        <p>Legend :</p><img src="images/legend.png" id="legend" alt="legend">
        <p>Larger arrows represent double length lines <br/>(skipping a grid position)</p>
    </fieldset>
    <fieldset id="stitchFiedSet" class="wide">
        <legend>Stitches</legend>
<textarea id="stitches" name="stitches" rows="4" cols="45" spellcheck="false"
>A3=tctc D4=lctc B4=rctc A1=ctc
A2=tctc
C1=tctc D2=rctc B2=lctc C3=ctc
C4=tctc</textarea>
        <br/>Hover over stitches in the pair diagram for IDs.
        <br/>Legend: c(ross) t(wist) l(eft-twist) r(ight-twist) p(in)
    </fieldset>
    <fieldset>
        <legend>Patch size</legend>
        <label for="rows">rows</label>
        <input id="rows" name="rows" min="3" value="12" type="number"/>
        <label for="cols">columns
            <img alt="(i)" title="This is not the number of pairs.&#013;Hover over the diamond start of pairs&#013;or the square start of threads&#013;to reveal their number."
                 src="images/information-icon.png">
        </label>
        <input id="cols" name="cols" min="3" value="9" type="number"/>
    </fieldset>
    <fieldset class="advanced hide">
        <legend>Shift
            (<a href="footsides.html">foot sides</a>)
            <img alt="(i)" title="Copy the matrix,&#013;remember the brick checkbox.&#013;Fill in on foot sides page,&#013;have some patience&#013;make your choice."
                 src="images/information-icon.png">
        </legend>
        <label for="up">rows</label>
        <input id="up" name="left" min="0" value="1" type="number"/>
        <label for="left">columns</label>
        <input id="left" name="up" min="0" value="1" type="number"/>
    </fieldset>
    <fieldset class="advanced hide">
        <legend>Initial zoom</legend>
        <label for="pairScale">pair diagram</label>
        <input id="pairScale" name="pairScale" step="0.1" min="0.2" max="5" value="1" type="number"/>
        <label for="threadScale">thread diagram</label>
        <input id="threadScale" name="threadScale" step="0.1" min="0.2" max="5" value="0.6" type="number"/>
    </fieldset>
    <fieldset class="advanced hide">
        <legend>Hidden diagram components
            <img alt="(i)" title="such as connections between twists and pins"
                 src="images/information-icon.png">
        </legend>
        <label for="transparency" class="advanced hide">transparency</label>
        <input id="transparency" name="transparency" step="0.1" min="0" max="1" value="0" type="number" class="advanced hide"/>
        <img alt="(i)" title="0 = completely transparent&#013;1 = completely opaque"
             src="images/information-icon.png">
    </fieldset>
    <fieldset class="wide">
        <legend>Thread colors</legend>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color1" name="color1" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color2" name="color2" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color3" name="color3" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color4" name="color4" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color5" name="color5" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color6" name="color6" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color7" name="color7" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color8" name="color8" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color9" name="color9" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color10" name="color10" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color11" name="color11" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color12" name="color12" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color13" name="color13" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color14" name="color14" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color15" name="color15" class="jscolor" value="000000"/>
        <input onchange="onChangeColor(this)" pattern="[a-fA-F0-9]{6}" id="color16" name="color16" class="jscolor" value="000000"/>
        <br/>apply the sequence with the <em>show</em> button
        <img alt="(i)" title="or paste your favorite sequence in the url&#013;for example alternating red-green:&#013;color1=%23FF0000&color2=%2300FF00&...&color16=FFFFFF"
             src="images/information-icon.png">
        <br/>white ( FFFFFF ) terminates the sequence
        <br/>
        <input id="color" name="color" class="jscolor" value="CC0000" pattern="[a-fA-F0-9]{6}"/>
        <label for="color"> apply with the square start of a thread</label>
    </fieldset>
    <fieldset id="buttons">
        <button onclick="load(); return false">show</button>
        <img alt="(i)" title="Generate diagrams.&#013;No page reload."
             src="images/information-icon.png">
        <button onclick="location.href='?'; return false">default</button>
        <img alt="(i)" title="Generate default diagrams.&#013;The page address is reduced.&#013;The page reloads."
             src="images/information-icon.png">
        <button>submit</button>
        <img alt="(i)" title="Change page address to current form content.&#013;It allows to bookmark the pattern.&#013;The page reloads."
             src="images/information-icon.png">
    </fieldset>
</form>
<p>
    Download the <a
        onmousedown="setHref(this, 'pairs')"
        download="pair-diagram.svg" target="_blank"
        href="?download=pair-diagram"
>pair diagram</a>, <a
        onmousedown="setHref(this,'threads')"
        download="thread-diagram.svg" target="_blank"
        href="?download=thread-diagram"
>thread diagram</a> or <a
        onmousedown="setHref(this, 'sheet')"
        download="pattern-sheet.svg" target="_blank"
        href="?download=pattern-sheet"
>pattern sheet</a>.
</p>
<div id="diagrams">
    <div id="pairs"><img src="images/preview.png" title="preview while scripts are loading and execusting"></div>
    <div id="threads"></div>
    <div id="sheet"></div>
</div>

  <p id="footer">
        <a href="https://github.com/d-bl/GroundForge/releases"
       >Release notes</a>
        &mdash; <a href="https://github.com/d-bl/GroundForge/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+-label%3A%22Browser+support%22+-label%3A%22nice+to+have%22+"
       >Issues</a>
        &mdash; <a href="https://github.com/d-bl/GroundForge/issues?q=is%3Aissue+is%3Aopen+label%3A%22Browser+support%22"
                   title="Modern desktop versions of Chrome, FireFox and Safari are fine&#013;Follow the link for issues in other situations."
       ><img id="browsers" src="images/browsers.png"
       ></a><!-- image assembled from http://www.iconarchive.com -->
        &mdash; Powered<sup>&nbsp;<a href="https://github.com/d-bl/GroundForge/tree/gh-pages#how-its-made--under-the-hood"
       >how</a></sup>&nbsp;by:&nbsp;<a href="https://tesselace.com" title="Algorithmically designed lace tessellations"
       >TesseLace</a>,&nbsp;<a href="https://d3js.org" title="Data Driven Documents"
       >D3.js</a>,&nbsp;<a href="http://www.menucool.com/color-picker" title="MenuCool Color Picker"
       >Menucool</a>
    </p>
  <!-- Start of StatCounter Code for Default Guide -->
  <script type="text/javascript">
        var sc_project=10865294;
        var sc_invisible=0;
        var sc_security="2e4f5d96";
        var scJsHost = (("https:" == document.location.protocol) ?
        "https://secure." : "http://www.");
        document.write("<sc"+"ript type='text/javascript' src='" +
        scJsHost+
        "statcounter.com/counter/counter.js'></"+"script>");
        </script>
  <noscript><div class="statcounter"><a title="web analytics"
                                        href="http://statcounter.com/" target="_blank"><img
          class="statcounter"
          src="http://c.statcounter.com/10865294/0/2e4f5d96/0/"
          alt="web analytics"></a></div></noscript>
  <!-- End of StatCounter Code for Default Guide -->
</body>
