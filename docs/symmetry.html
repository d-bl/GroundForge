<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title lang="en">GF: pair diagram demonstrator</title>
    <style>
        #width, #height, #twists, #shiftSteps, #shiftGroups { width: 3em; }
        .inline { display: inline-block; margin-right: 2em; }
    </style>
    <script src="js/d3.v4.min.js" type="text/javascript"></script>
    <script src="js/GroundForge-opt.js" type="text/javascript"></script>
    <script src="js/symmetry.js" type="text/javascript"></script>
    <script type="text/javascript">
    </script>
</head>
<body onload="initDiagram()">
    <h1>Work in progress</h1>
    Drag stitches. Drag pairs to pinch for new stitches (WIP like delete)
    <form action="" onSubmit="return false;">
        <p class="inline">
            <a href="javascript:initDiagram()">Init</a>: variant
            <input type="radio" id="variant1" name="variant" value="tile=-5-,5-5,-5-&shiftColsSW=-2&shiftRowsSW=2&shiftColsSE=2&shiftRowsSE=2" checked="checked"><label for="variant1">1</label>
            <input type="radio" id="variant2" name="variant" value="tile=5-,-5&shiftColsSW=0&shiftRowsSW=2&shiftColsSE=2&shiftRowsSE=2"><label for="variant2">2</label>;
            <label for="width">width:</label><input type="number" id="width" value="5" min="5" step="2">
            <label for="height">height:</label><input type="number" id="height" value="5" min="5" step="2">
            <br>
            note that the template frame of the DFZ course is not rendered.
            <br>
            <label for="shiftGroups">Indent every </label> <input type="number" id="shiftGroups" class="re_clone" value="2" min="0" step="1" disabled="disabled">
            <label for="shiftGroups"> template</label>
            <input type="radio" id="shiftHor" name="shift" value="hor" class="re_clone"><label for="shiftHor">rows</label>
            <input type="radio" id="shiftVert" name="shift" value="vert" class="re_clone" checked="checked"><label for="shiftVert">columns</label>
            <label for="shiftSteps">by</label> <input type="number" id="shiftSteps" class="re_clone" value="0" min="0" step="2">
        </p>
        <p class="inline">
            <label for="fileinput">Reload a downloaded file:</label>
            <input type="file" id="fileinput" accept="image/svg+xml" onchange="readSingleFile(event)"/>
            <br>
            <label for="fileinput"><em>Warning:</em> No security check for third party files.</label>
            <br>
            <a href="javascript:d3.select('#download2').attr('href',getWrappedSVG('#template')).style('display','inline')"
               onfocus="this.href=getWrappedSVG('#template')"
               onblur="this.href='#?'"
               download="GF-template.svg"
               title="download"
            >Download</a> current diagram
            <a href="#"
               style="display:none"
               id="download2"
               download="GF-template.svg"
               onclick="this.style.display='none'"
            >get</a>
        </p>
        <p>
            Click mode for stitches:
            <br>
            <input type="radio" id="delete" name="editMode" value="delete"><label for="delete">delete</label>
            <br>
            <input type="radio" id="change" name="editMode" value="change" checked="checked"
            ><label for="change">apply <input id="stitchDef" type="text" value="ctlcrrc"></label>
            <br>
            <label for="twists">Twists between stitches </label><input type="number" id="twists" value="1" min="0" max="3">
            <label for="twists">Click on a pair to apply.</label>
        </p>
    </form>
    <div id="template"></div>
</body>
</html>
