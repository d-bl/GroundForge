<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title lang="en">GF: pair diagram symmetries</title>
    <style>
        input[type=number] { width: 3em; }
        input[type=text] { width: 7em; }
        .inline { display: inline-block; margin-right: 2em; }
        input, select { font-weight: bold }
    </style>
    <script src="js/d3.v4.min.js" type="text/javascript"></script>
    <script src="js/GroundForge-opt.js" type="text/javascript"></script>
    <script src="js/symmetry.js" type="text/javascript"></script>
    <script type="text/javascript">
    </script>
</head>
<body onload="initDiagram()">
    <h1>Bobbin lace pair diagrams - edit symmetries</h1>
    <a href="/GroundForge-help/symmetry" target="_blank"><img src="images/information-icon.png" title="help"></a>
    Drag stitches. Drag pairs to pinch for new stitches.
    <form action="" onSubmit="return false;">
        <p class="inline">
            <button><a href="javascript:initDiagram()">Init</a>
            </button>
            <br>
            variant
            <input type="radio" id="variant1" name="variant" value="tile=-5-,5-5,-5-&shiftColsSW=-2&shiftRowsSW=2&shiftColsSE=2&shiftRowsSE=2" checked="checked"><label for="variant1">1</label>
            <input type="radio" id="variant2" name="variant" value="tile=5-,-5&shiftColsSW=0&shiftRowsSW=2&shiftColsSE=2&shiftRowsSE=2"><label for="variant2">2</label>
            <br>
            <label for="width">width: </label><input type="number" id="width" value="5" min="3" step="2">
            <label for="height">height: </label><input type="number" id="height" value="5" min="3" step="2">
        </p>
        <p class="inline">
            <button>
                <a href="javascript:d3.select('#download2').attr('href',getWrappedSVG('#template')).style('display','inline')"
                   onfocus="this.href=getWrappedSVG('#template')"
                   onblur="this.href='#?'"
                   download="GF-template.svg"
                   title="download"
                >Download</a></button> current diagram
            <a href="#"
               style="display:none"
               id="download2"
               download="GF-template.svg"
               onclick="this.style.display='none'"
            >get</a>
            <br>
            <label for="fileinput">Reload a downloaded file:</label>
            <input type="file" id="fileinput" accept="image/svg+xml" onchange="readSingleFile(event)"/>
            <br>
            <label for="fileinput"><em>Warning:</em> No security check for third party files.</label>
        </p>
        <br>
        <p class="inline">
            Click mode for stitches:
            <br>
            <input type="radio" id="delete" name="editMode" value="delete"><label for="delete">delete (<em>download/reload is your only undo</em>)</label>
            <br>
            <input type="radio" id="change" name="editMode" value="change" checked="checked"
            ><label for="change">apply <input id="stitchDef" type="text" value="ctlcrrc"
            > (<em>leading and trailing twists are ignored</em>)
            </label>
            <br>
            <label for="twists">Click on a pair for</label>
            <input type="number" id="twists" value="1" min="0" max="3">
            <label for="twists">twist(s) between stitches </label>
        </p>
        <p class="inline">
            Indent
            <label for="indentSteps">by</label> <input type="number" id="indentSteps" class="re_clone" value="0" min="0" step="2">
            <br>First row:
            <strong>b</strong> +
            <select id="bAndOneOther" class="re_clone">
                <option value="bbbb bbbb bbbb bbbb,bbbb bbbb bbbb bbbb,bbbb bbbb bbbb bbbb">b</option>
                <option value="bbbb dddd bbbb dddd,bdbd bdbd bdbd bdbd,bdbd dbdb bdbd dbdb" selected="selected">d</option>
                <option value="bbbb pppp bbbb pppp,bpbp bpbp bpbp bpbp,bpbp pbpb bpbp pbpb">p</option>
                <option value="bbbb qqqq bbbb qqqq,bqbq bqbq bqbq bqbq,bqbq qbqb bqbq qbqb">q</option>
            </select>
            <br>Second row:
            <select id="bdpqRowsCols" class="re_clone">
                <option value="bdpq bdpq bdpq bdpq,bbbb dddd pppp qqqq">bdpq</option>
                <option value="bdqp bdqp bdqp bdqp,bbbb dddd qqqq pppp">bdqp</option>
                <option value="bpdq bpdq bpdq bpdq,bbbb pppp dddd qqqq">bpdq</option>
                <option value="bpqp bpqp bpqp bpqp,bbbb pppp qqqq pppp">bpqp</option>
                <option value="bqdp bqdp bqdp bqdp,bbbb qqqq dddd pppp">bqdp</option>
                <option value="bqpd bqpd bqpd bqpd,bbbb qqqq pppp dddd">bqpd</option>
            </select>
            (<em>work in progress</em>)
            <br>
            Third row: some <strong>b</strong>+<strong>d</strong>+<strong>p</strong>+<strong>q</strong> variations
            (<em>work in progress</em>)
        </p>
    </form>
    <div id="template"></div>
</body>
</html>
