<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title lang="en">GF: thread diagram demonstrator</title>
    <style>div { display: inline-block; overflow: auto; resize: both; width: 600px; height: 800px; }</style>
    <script src="../js/d3.v4.min.js" type="text/javascript"></script>
    <script src="../js/GroundForge-opt.js" type="text/javascript"></script>
    <script src="showGraph.js" type="text/javascript"></script>
    <script type="text/javascript">
       function paint(node) {
         // search within the proper container (#diagram) in case you have multiple diagrams on your page
         var threadSegments = d3.selectAll("#diagram ." + node.textContent.replace(" ",""))
         threadSegments.style("stroke", "#F00")
         threadSegments.filter(".node").style("fill", "#F00")
       }
       function load() {
         var q = window.location.search.substr(1)
         var config = TilesConfig(q)
         var pairDiagram = NewPairDiagram.create(config)
         var threadDiagram = ThreadDiagram.create(pairDiagram)

         // for Droste you can repeat the following lines
         // var pairDiagram = PairDiagram.create("twist=ct\nb24=c34=c35=d25=ctct", threadDiagram)
         // var threadDiagram = ThreadDiagram.create(pairDiagram)

         var nodeTransparency = 0.05
         var strokeWidth = "2px"

         // dimensions for an A4
         var width = 744
         var height = 1052

         // with pairDiagram on the following line you get the traditional color coding and paint becomes useless
         showGraph(d3.select('#diagram'), threadDiagram, strokeWidth, width, height, config, nodeTransparency)
       }
    </script>
</head>
<body onload="load()">
    <div id="diagram"></div>
</body>
</html>
